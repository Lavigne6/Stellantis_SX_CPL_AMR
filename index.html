<!DOCTYPE html>
<html lang="fr">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Choisir une version</title>
</head>
<body>
    <h1>Bienvenue chez Stellantis Sochaux !</h1>
    <p>Veuillez choisir la version de l'application :</p>

    <!-- Lite Version -->
    <button onclick="showLite()">Version Lite</button>

   <!-- Normal Version (password protected) -->
    <button onclick="showPasswordPrompt()">Version Normale</button>

    <!-- Password input (hidden by default) -->
    <div id="passwordPrompt" style="display:none;">
        <p>Entrez le mot de passe pour accéder à la version normale :</p>
        <input type="password" id="passwordInput" placeholder="Mot de passe">
        <button onclick="validatePassword()">Valider</button>
        <p id="passwordError" style="color:red; display:none;">Mot de passe incorrect</p>
    </div>

        <!-- Insérer ici le texte des images -->
        <h3>Je suis un membre des AMRs Butlers du Stellantis Sochaux! Enchanté(e)!</h3>
        <ul>
            <img src="Layout.png" alt="Image 1" width="500px">
            <li>Automated Mobile Robot (AMR // AGV)</li>
            <li>Développé par Quicktron</li>
            <li>Peut porter jusqu’à 1,5 tonnes</li>
            <li>Deux axes de déplacement X et Y</li>
            <li>Suivant un cheminement de QR codes (tags) au sol, lus par caméra</li>
            <li>Détection des obstacles par caméra et parechocs (pneumatiques)</li>
            <li>Se recharge sur des bornes électriques</li>
        </ul>
        
        <h3>Zones de déplacement</h3>
        <p>Nous roulons sur les MV1/2/3/4/5, HC1 + toutes les zones de kit, jusqu'au TK!</p>
        <p>Distance maximale: 600m!</p>

        <h3>Contact</h3>
        <p><strong>Chef de projet :</strong></p>
        <p>Simon Poquet 0668241247</p>
        <p><strong>Techniciens :</strong></p>
        <p>Gary Marinot 0672831967, Sezer Binen 0637964422</p>
        <p><strong>Stagiaire :</strong></p>
        <p>Haiquan Liu 0669642070</p>
    </div>

    <script>
        // get la version 
        function getQueryParam(param) {
            let urlParams = new URLSearchParams(window.location.search);
            return urlParams.get(param);
        }

        // 显示Lite内容
        function showLite() {
            var machineID = getQueryParam("MachineID");
            document.getElementById("machineIDText").innerHTML = "Hello, je suis MachineID: " + machineID;
            document.getElementById("liteContent").style.display = "block";
        }
        
        // 显示密码输入框
        function showPasswordPrompt() {
            document.getElementById("passwordPrompt").style.display = "block";
        }

        // 验证密码并跳转
        function validatePassword() {
            const password = document.getElementById("passwordInput").value;
            const correctPassword = "SXM10"; // 在这里设置你想要的密码

            if (password === correctPassword) {
                // 密码正确，跳转到 Normal 版本链接
                const machineID = getQueryParam("MachineID");
                window.location.href = "https://apps.powerapps.com/play/1c66268e-c967-4e77-82e1-1e303906f884?MachineID=" + machineID;
            } else {
                // 密码错误，显示错误信息
                document.getElementById("passwordError").style.display = "block";
            }
        }
        // 动态设置Normal版本的链接
        window.onload = function() {
            var machineID = getQueryParam("MachineID");
            document.getElementById("normalVersionLink").href = "https://apps.powerapps.com/play/1c66268e-c967-4e77-82e1-1e303906f884?MachineID=" + machineID;
        }
    </script>
</body>
</html>
